# Notion2API 管理界面使用指南

## 概述

Notion2API 提供了一个美观、易用的Web管理界面，用于管理Cookie和Thread ID配置。

## 访问管理界面

1. 启动应用后，在浏览器中访问：
   ```
   http://localhost:3000/admin
   ```

2. 使用管理员账号登录：
   - 默认用户名：`admin`
   - 默认密码：您的 `ADMIN_PASSWORD` 环境变量值（如未设置，则使用 `AUTH_TOKEN` 的值）
   
3. 可以通过环境变量自定义管理员凭据：
   ```
   ADMIN_USERNAME=your_username
   ADMIN_PASSWORD=your_password
   ```

4. 登录成功后会保存会话，24小时内无需重复登录

## 功能介绍

### 1. 仪表板统计

界面顶部显示三个关键指标：
- **总Cookie数**：系统中所有Cookie的总数
- **有效Cookie数**：当前可用的Cookie数量
- **已配置ThreadID**：已设置Thread ID的Cookie数量

### 2. Cookie管理

#### 查看Cookie列表
- 表格显示所有Cookie的详细信息
- 包括用户ID、空间ID、状态、最后使用时间和Thread ID
- 有效的Cookie显示绿色状态指示器

#### 添加新Cookie
1. 点击"添加Cookie"按钮
2. 在弹出的对话框中输入Cookie内容
3. 可选：输入Thread ID（必须手动获取，系统不会自动创建）
4. 支持批量添加（使用 | 分隔多个Cookie）

#### 编辑Thread ID
1. 点击Cookie行中的编辑按钮（铅笔图标）
2. 在弹出的对话框中修改Thread ID
3. 留空表示不使用特定的Thread ID

#### 删除Cookie
1. 点击Cookie行中的删除按钮（垃圾桶图标）
2. 确认删除操作

#### 刷新状态
- 点击"刷新状态"按钮重新验证所有Cookie的有效性

### 3. 操作日志

界面底部显示所有操作的实时日志，包括：
- Cookie的添加、删除、更新操作
- 系统状态变化
- 错误信息

## Thread ID 管理

### 什么是Thread ID？

Thread ID 是Notion AI对话的会话标识符。使用固定的Thread ID可以：
- 保持对话上下文的连续性
- 避免重复创建新会话
- 提高响应效率

### 最佳实践

1. **新用户**：Thread ID需要从现有的Notion对话中手动获取
2. **保持上下文**：如果需要保持对话连续性，记录并复用Thread ID
3. **重置对话**：不使用Thread ID即可开始新的对话会话

## 安全注意事项

1. **认证令牌**：请妥善保管您的AUTH_TOKEN，它是访问管理界面的唯一凭证
2. **Cookie安全**：Cookie包含敏感信息，请勿在公共网络环境下使用管理界面
3. **定期更新**：建议定期更新Cookie以确保服务的稳定性

## 常见问题

### Q: 为什么Cookie显示为无效？
A: Cookie可能已过期或被Notion撤销。请获取新的Cookie并更新。

### Q: Thread ID应该多久更换一次？
A: 除非遇到问题或需要重置对话上下文，否则可以一直使用同一个Thread ID。

### Q: 如何获取Thread ID？
A: Thread ID需要从Notion的现有对话中手动获取，系统不会自动创建。您可以通过浏览器开发者工具查看Notion AI对话的网络请求来获取。

### Q: 可以同时使用多个Cookie吗？
A: 是的，系统支持多Cookie轮询，可以提高请求的稳定性和效率。

### Q: 如何获取Notion Cookie？
A: 请参考主文档中的Cookie获取方法。

## 移动端支持

管理界面已针对移动设备进行了全面优化：

### 移动端特性

1. **响应式布局**
   - 自适应屏幕大小
   - 优化的触摸操作
   - 简化的表格显示

2. **移动端操作**
   - 点击"三点"按钮查看更多操作
   - 支持查看Cookie详情
   - 底部浮动操作栏方便快速操作

3. **优化的交互**
   - 大尺寸触摸目标
   - 防止输入框缩放
   - 流畅的滚动体验

### 移动端使用建议

1. **横屏模式**：在查看完整信息时，可以使用横屏模式
2. **快速操作**：使用底部操作栏进行刷新和添加操作
3. **详情查看**：点击"更多操作"→"查看详情"查看完整Cookie信息

## 技术支持

如遇到问题，请查看操作日志中的错误信息，或查看服务器控制台输出。
